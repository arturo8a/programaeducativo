<html xmlns:th="http://www.thymeleaf.org">
<meta charset="utf-8" />

<link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
<link href="../static/css/gijgo.min.css" rel="stylesheet" th:href="@{/css/gijgo.min.css}" >
<link href="../static/css/font-awesome.min.css" rel="stylesheet" th:href="@{/css/font-awesome.min.css}" >
<script type="text/javascript" th:src="@{/js/gijgo.min.js}" ></script>
<script type="text/javascript" th:src="@{/js/messages.es-es.js}"></script>
<script type="text/javascript" th:src="@{/js/datetime-moment-order.js}"></script>
<script type="text/javascript" th:src="@{/js/moment.js}"></script>

<div class="row">
	<div class="col-xs-6 col-sm-9">
		<h4 style="color:#4698FF; padding-left:5px">Administraci칩n de usuarios</h4>
	</div>
	<div class="col-xs-6 col-sm-3" style="padding:0px">
		<input type="button" name="btnagregarusuario" id="btnagregarusuario" class="btn btn-success" value="Nuevo usuario"/>
	</div>
</div>
<br>
<div class="row" style="padding-left:20px; width:100%; padding-bottom:3px">
	<div class="col-xs-12 col-3">
		<table style="width:100%">
			<tr>
				<td style="width:40%">
					<label>A침o</label>
				</td>
				<td style="width:60%">
					<select class="form-control" id="cbaniousuario" >
						<option value="Todos">Todos</option>
						<option th:each="dato:${anios}" th:value="${dato}" th:utext="${dato}"/>
					</select>
				</td>
			</tr>
		</table>
	</div>
	<div class="col-xs-12 col-3">
		<table style="width:100%">
			<tr>
				<td style="width:20%">
					<label>ODS</label>
				</td>
				<td style="width:80%">
					<select class="form-control" id="cbestadopertura" style="padding-left:20px">
						<option value="Todos">Todos</option>
						<option th:each="len:${ods}" th:value="${len.descripcion}" th:utext="${len.descripcion}"/>
					</select>
				</td>
			</tr>
		</table>
	</div>
	<div class="col-xs-12 col-3">
		<table style="width:100%">
			<tr>
				<td style="width:20%">
					<label>Perfil</label>
				</td>
				<td style="width:80%">
					<select class="form-control" id="cbestadopertura" style="padding-left:20px">
						<option value="Todos">Todos</option>
						<option th:each="len:${tipousuarios}" th:value="${len.descripcion}" th:utext="${len.descripcion}"/>
					</select>
				</td>
			</tr>
		</table>
	</div>
	<div class="col-xs-12 col-3">
		<table style="width:100%">
			<tr>
				<td style="width:20%">
					<label>Estado</label>
				</td>
				<td style="width:80%">
					<select class="form-control" id="cbestadopertura" style="padding-left:20px">
						<option value="Todos">Todos</option>
						<option value="Activo">Activo</option>
						<option value="Inactivo">Inactivo</option>
					</select>
				</td>
			</tr>
		</table>
	</div>
</div>
<br>
<div class="row">
	<div class="col-xs-9 col-sm-9">
		&nbsp;
	</div>
	<div class="col-xs-3 col-sm-3">
		<input type="button" name="btnbuscarusuario" id="btnbuscarusuario" class="btn btn-primary" value="Buscar"/>
		<input type="button" name="btnlimpiarusuario" id="btnlimpiarusuario" class="btn btn-danger" value="Limpiar" style="margin-left:10px"/>
	</div>
</div>
<hr>
<div class="p-0 m-0" style="background:#ECFBF4">
	<div class="row pt-2 pb-4 m-0">
		<div class="col-xs-12 col-sm-12">
			<table id="table_lista_usuario"  class="table table-striped table-bordered display nowrap" style="width:100%">
				<thead>
			        <tr>
			        	<th></th>
			            <th>ODS</th>
			            <th>Direcci칩n/Oficina</th>
			            <th>Perfil</th>
			            <th>Nombre</th>
			            <th>Apellido</th>
			            <th>Usuario</th>
			            <th>Correo</th>
			            <th>Editar</th>
			            <th>Activar/Inactivar</th>
			        </tr>   
			    </thead>
			</table>
		</div>
		<br><br>
	</div>
</div>



<div class="modal fade" tabindex="-1" role="dialog" id="modalagregarusuario" aria-labelledby="myLargeModalLabel" >
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content" style="overflow-y: scroll; height:750px">
      <div class="modal-header">
        <strong class="pt-1">REGISTRAR USUARIO</strong>
      </div>
      <div class="modal-body" id="contenidocrearusuario">      	
      </div>
    </div>
  </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="modalinformacionusuario">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <img th:src="@{./images/imagen_informacion11.png}" />&nbsp;&nbsp; <strong class="pt-1">Alerta</strong>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" id="textoinformacionusuario">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger rounded-0" id="btncerrarmensajeinformacionusuario" name="btncerrarmensajeinformacionusuario">Cerrar</button>
      </div>
    </div>
  </div>
</div>

<div class="modal" tabindex="-1" role="dialog" id="modalerrorusuario">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <img th:src="@{./images/imagen_informacion11.png}"/>&nbsp;&nbsp; <strong class="pt-1">Error</strong>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>	          
        </button>
      </div>
      <div class="modal-body" id="textoerrorusuario">
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger rounded-0" id="btncerrarmensajeerrorusuario" name="btncerrarmensajeerrorusuario">Cerrar</button>
      </div>
    </div>
  </div>
</div>

</html>
<script type="text/javascript">
		
		var objarray="";
		var hhmmss="" ;
		var arrayfecha="" ;
		var fecha=""; 
		var table_lista_evaluacion, celdaseleccionada,id;
		
		$(document).ready(function(){
			
			$("#btnagregarusuario").click(function(){
				//$("#modalimagencargando").modal();
				$.ajax({
					url: url_base + "pedesa/formnuevousuario",
					success: function(respuesta) {
						$("#modalimagencargando").modal('hide');
						$("#contenidocrearusuario").html(respuesta);		
						$('#modalagregarusuario').modal({
							show : true,
							backdrop : 'static',
							keyboard:false
						});
					},
					error: function() {
				        console.log("No se ha podido obtener la informaci칩n");
				    }
				});			
			});
		});
	    
</script>

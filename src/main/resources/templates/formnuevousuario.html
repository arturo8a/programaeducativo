<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ProgramaEducativo</title>
    <meta charset="UTF-8" />   
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <script type="text/javascript">
		window.history.forward();
	</script>    
    <link rel="stylesheet" href="../static/css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}">
    <link rel="stylesheet" href="../static/css/style.css" th:href="@{/css/style.css}">
	
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js" integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.0/js/bootstrap.min.js" integrity="sha384-uefMccjFJAIv6A+rW+L4AHf99KvxDjWSu1z9VI8SKNVmz4sk7buKt/6v9KI65qnm" crossorigin="anonymous"></script>
	
	<script type="text/javascript" th:src="@{/js/jquery-3.3.1.js}" ></script>
    <script type="text/javascript" th:src="@{/js/bootstrapv4.js}" ></script>
    <script type="text/javascript" th:src="@{/js/fontawesomev5.0.6.js}" ></script>
    <script type="text/javascript" th:src="@{/js/jquery-ui.js}" ></script>
	
	<script type="text/javascript" th:src="@{/js/bootstrap-select.min.js}"></script>
	
	<link rel="shortcut icon" th:href="@{/images/logo_login.ico}" />
	
	<script type="text/javascript" th:src="@{/js/jquery-ui.js}" ></script>
	
	<link rel="stylesheet" href="../static/css/style.css" th:href ="@{/css/style.css}">
</head>
<body>	
		<h5>Datos del especialista</h5>
		<div class="row">
			<div class="col-xs-12 col-sm-3">
				<label>Perfil</label>
				<select class="form-control" id="perfil_usuario" name="perfil_usuario">
					<option value="0">Seleccionar</option>
					<option th:each="len:${tipousuarios}" th:value="${len.descripcion}" th:utext="${len.descripcion}"/>
				</select>	
			</div>
			<div class="col-xs-12 col-sm-3">
				<label>Usuario</label>
				<select class="form-control" id="usuario" name="usuario">
					<option value="0">Seleccionar</option>
					<option th:each="len:${usuarios}" th:value="${len.cuenta}" th:utext="${len.cuenta}"/>
				</select>
			</div>
			<div class="col-xs-12 col-sm-3">
				<label>Dirección oficina</label>
				<input type="text" name="oficina" id="oficina" class="form-control" disabled/>
			</div>
			<div class="col-xs-12 col-sm-3">
				<label>Oficina desconcentrada</label>
				<input type="text" name="oficinadesconcentrada" id="oficinadesconcentrada" class="form-control" disabled/>
			</div>
		</div>
		<div class="row">
			<div class="col-xs-12 col-sm-3">
				<label>Nombres</label>
				<input type="text" name="nombresusuario" id="nombresusuario" class="form-control" disabled/>
			</div>
			<div class="col-xs-12 col-sm-3">
				<label>Apellidos</label>
				<input type="text" name="apellidosusuario" id="apellidosusuario" class="form-control" disabled/>
			</div>
			<div class="col-xs-12 col-sm-3">
				<label>Correo electrónico</label>
				<input type="text" name="correoelectronico" id="correoelectronico" class="form-control" disabled/>
			</div>
		</div>
		<hr>
		<h6>Accesos</h6>
		<h6>ODS</h6>		
		<div class="row">
			<div class="col-xs-12 col-sm-12">
				<input type="checkbox" name="" id="" style="margin:5px" />Marcar todos
			</div>
		</div>
		
		<div class="row" >
			<div class="col-xs-12 col-sm-3" th:each="ods : ${listaods}">
				<input type="checkbox" th:name="'chkods'+${ods.id}" th:id="'chkods'+${ods.id}" style="margin:5px"/> <label th:for="'chkods'+${ods.id}" th:text="${ods.descripcion}"></label>
			</div>
		</div>
		<br>
		<div class="row">
			<div class="col-xs-6 col-sm-6 text-right">
				<input type="button" name="btncancelarusuario" id="btncancelarusuario" value="Cancelar" class="btn btn-danger"/>
			</div>
			<div class="col-xs-6 col-sm-6 text-left">
				<input type="button" name="btnregistrarusuario" id="btnregistrarusuario" value="Registrar" class="btn btn-primary"/>
			</div>
		</div>
		
</body>
</html>
<script type="text/javascript">

		$(document).ready(function(){
			
			var usuario;
			
			$("#btncancelarusuario").click(function(){
				$("#modalagregarusuario").hide();
			});			
			
			$("#usuario").change(function(){
				$("#nombresusuario").val("");							
				$("#apellidosusuario").val("");
				usuario = $("#usuario").val();
				
				$.ajax({
					type : "GET",
				    url : url_base + "pedesa/datosusuario/"+ usuario,
					success: function(respuesta) {
						console.log("respuesta :" + respuesta);
						if(respuesta!=null){
							$("#nombresusuario").val(respuesta.nombre);							
							$("#apellidosusuario").val(respuesta.usuario);
						}
						else{
							$("#textoinformacionusuario").html("No existe usuario");
							$('#modalinformacionusuario').modal({
								show : true,
								backdrop : 'static',
								keyboard:false
							});
						}
					},
					error: function() {
						$("#textoerrorusuario").html("Excepcion buscar usuario LDAP");
						$('#modalerrorusuario').modal({
							show : true,
							backdrop : 'static',
							keyboard:false
						});
				    }
				});				
			});
			
			$("#btnregistrarusuario").click(function(){
				
			});
		});		
		
</script>

		